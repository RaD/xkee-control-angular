# Компонент "Территория"

Роутер `/areas/create` и `/areas/PK/edit`.

Поля:
* название
* адрес
* тип:
    * xkee показывает дополнительные поля
        * access key
        * secret key

Действия:
* назад
* применить
* импорт

В режиме редактирования к действиям добавляются:
* экспорт - браузер сохраняет JSON всей территории с устройствами и пользователями
* удалить - браузер удаляет информацию о территории из localStorage

При экспорте браузер скачивает файл с именем подобным `xkee-area-9e14e706-1111-2222-3333-df5592989305-2025-01-31T21_08_07.006Z.json`.

Структура файла:

    {
        'pk': '9e14e706-1111-2222-3333-df5592989305',
        'title': 'Территория',
        'address': 'Фрунзенская',
        'kind': 'xkee',
        'access': '123',
        'secret': '456',
        'customers': [
            '+79161234567', '+79031234567', '+79167654321', '+79161243123'
            ],
        'devices': ['1122-3344-55667788'],
        'export_customers': [
            {
                'pk': '+79161234567',
                'last_name': 'Иванов',
                'first_name': 'Иван',
                'active': True,
                'address': 'Фрунзенская',
                'vehicle': 'BMW F30 E123KX77'
                'comment': 'XKee',
            }, {
                'pk': '+79031234567',
                'last_name': 'Сидоров',
                'first_name': 'Сидор',
                'active': False,
                'address': 'Бауманская',
                'vehicle': 'Мопед'
            }, {
                'pk': '+79167654321',
                'last_name': 'Юркин',
                'first_name': 'Юрий',
                'active': False,
                'address': 'Зона 51',
                'vehicle': 'Велик'
            }, {
                'pk': '+79161243123'
                'last_name': 'Максимов',
                'first_name': 'Максим',
                'active': False,
                'address': 'В офисе',
                }
        ],
        'export_devices': [
            {
                'pk': '1122-3344-55667788',
                'title': '#1'
                'description': 'У шаурмячной',
            }
        ],
        'linked': {
            '+79031234567': ['+79161234567', '+79167654321', '+79161243123']
        },
    }
