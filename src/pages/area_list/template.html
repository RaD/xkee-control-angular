<legend class="text-center">Территории</legend>
<div class="row">
  <div class="col">
    @if (empty) {
      <figure class="text-center">
        <blockquote class="blockquote">
          <p>У вас пока не зарегистрировано ни одной территории...</p>
        </blockquote>
        <figcaption class="blockquote-footer">
          Самое время добавить хотя бы одну...
        </figcaption>
      </figure>
    }
    @if (!empty) {
      <div class="table-responsive">
        <table class="table">
          <tbody>
            @for (area of areas; track area) {
              <tr>
                <td>
                  <a [routerLink]="['/areas', area.pk, 'customers']">
                    {{ area.title }}
                  </a>
                </td>
                <td>
                  <fa-icon [icon]="faUser" label="Настройки"></fa-icon>
                  {{ area.customers.length }}
                </td>
                <td>{{ area.kind }}</td>
                <td>{{ area.address }}</td>
                <td class="d-grid gap-2 d-flex justify-content-end">
                  <a type="button" class="btn btn-info position-relative"
                    [routerLink]="['/areas', area.pk, 'devices']">
                    <fa-icon [icon]="faWalkieTalkie" label="Устройства"></fa-icon>
                    <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
                      {{ area.devices.length }}
                    </span>
                  </a>
                  <a type="button" class="btn btn-info"
                    [routerLink]="['/areas', area.pk, 'edit']">
                    <fa-icon [icon]="faGear" label="Настройки"></fa-icon>
                  </a>
                </td>
              </tr>
            }
          </tbody>
        </table>
      </div>
    }
  </div>
</div>

<div class="mb-3 fixed-bottom">
  <div class="container-fluid">
    <div class="mb-3 d-grid gap-2">
      <a routerLink="/areas/create" routerLinkActive="active"
        type="button" class="btn btn-primary">
        <fa-icon [icon]="faPlus" class="me-2"></fa-icon>
        Добавить территорию
      </a>
    </div>
  </div>
</div>
